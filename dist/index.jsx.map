{
  "version": 3,
  "sources": [
    "index.jsx"
  ],
  "names": [
    "Form",
    "props",
    "validInputs",
    "inputValues",
    "defaultValues",
    "getInput",
    "child",
    "type",
    "name",
    "children",
    "length",
    "x",
    "valid",
    "value",
    "customInput",
    "state",
    "forceDirty",
    "resetForm",
    "setState",
    "formWasResetted",
    "input",
    "validate",
    "onChange",
    "resetValue",
    "valueWasResetted",
    "extra",
    "validateObj",
    "errorMessage",
    "Children",
    "map",
    "component",
    "getComponent",
    "cloneElement",
    "disabled",
    "disabledUntilFormIsValidated",
    "onClick",
    "event",
    "preventDefault",
    "getCommonMethods",
    "childrenWithProps",
    "className",
    "propTypes",
    "node",
    "PropTypes",
    "string",
    "bool",
    "func",
    "CustomInput",
    "displayName",
    "Input",
    "Dropdown",
    "SubmitButton",
    "ResetButton",
    "Wrapper"
  ],
  "mappings": "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",
  "file": "index.jsx",
  "sourceRoot": "../src/form",
  "sourcesContent": [
    "import React, { Component, PropTypes } from 'react';\nimport Input from './input';\nimport Dropdown from './dropdown';\nimport SubmitButton from './submit-button';\nimport ResetButton from './reset-button';\nimport Wrapper from './wrapper';\nimport CustomInput from './custom-input';\nimport { some } from 'lodash';\n\nclass Form extends Component {\n  static propTypes = {\n    children: PropTypes.node\n  }\n\n  constructor(props) {\n    super(props);\n\n    const validInputs = {};\n    const inputValues = {};\n    const defaultValues = {\n      validInputs: {},\n      inputValues: {}\n    };\n    const getInput = (child) => {\n      switch (child.type.name) {\n        case 'Wrapper':\n          if (child.props.children) {\n            if (child.props.children.length) {\n              for (const x in child.props.children) {\n                getInput(child.props.children[x]);\n              }\n            } else {\n              getInput(child.props.children);\n            }\n          }\n          break;\n        case 'Input':\n        case 'Dropdown':\n          validInputs[child.props.name] = child.props.valid || false;\n          inputValues[child.props.name] = child.props.value || '';\n          defaultValues.validInputs[child.props.name] = child.props.valid || false;\n          defaultValues.inputValues[child.props.name] = child.props.value || '';\n          break;\n        case 'CustomInput':\n          const customInput = child.props.children;\n          validInputs[customInput.props.name] = customInput.props.valid || false;\n          inputValues[customInput.props.name] = customInput.props.value || '';\n          defaultValues.validInputs[customInput.props.name] = customInput.props.valid || false;\n          defaultValues.inputValues[customInput.props.name] = customInput.props.value || '';\n          break;\n      }\n    };\n\n    for (const x in this.props.children) {\n      getInput(this.props.children[x]);\n    }\n\n    this.state = {\n      forceDirty: false,\n      resetForm: false,\n      validInputs,\n      inputValues,\n      defaultValues\n    };\n  }\n\n  componentWillReceiveProps({ resetForm }) {\n    if (this.props.resetForm != resetForm && resetForm) {\n      this.setState({ resetForm: true });\n      this.resetForm();\n      this.props.formWasResetted();\n    }\n  }\n\n  resetForm() {\n    const validInputs = {};\n    const inputValues = {};\n    const defaultValues = { ...this.state.defaultValues };\n\n    for (const input in this.state.inputValues) {\n      inputValues[input] = defaultValues.inputValues[input] || '';\n      validInputs[input] = defaultValues.validInputs[input] || false;\n    }\n    this.setState({ ...this.state, resetForm: true, validInputs, inputValues });\n  }\n\n  getCommonMethods(props) {\n    const { name, validate, onChange } = props;\n    const { validInputs, inputValues, resetForm } = this.state;\n    return {\n      resetValue: resetForm,\n      valueWasResetted: () => this.setState({ resetForm: false }),\n      value: inputValues[name],\n      valid: validInputs[name],\n      forceDirty: this.state.forceDirty,\n      onChange: (value) => {\n        const state = { ...this.state };\n        state.inputValues[name] = value;\n        this.setState(state);\n        if (onChange) {\n          onChange(value);\n        }\n      },\n      validate: (value, extra = {}) => {\n        if (validate) {\n          const validateObj = validate(value, extra);\n          const state = { ...this.state };\n          state.validInputs[name] = validateObj.valid;\n          return validateObj;\n        } else {\n          return {\n            valid: true,\n            errorMessage: ''\n          };\n        }\n      }\n    };\n  }\n\n  getComponent(children) {\n    return React.Children.map(children,\n      (child) => {\n        let component = child;\n        switch (child.type.name) {\n          case 'Wrapper':\n            component = (\n              <Wrapper {...child.props}>\n                {this.getComponent(child.props.children)}\n              </Wrapper>\n            );\n            break;\n          case 'SubmitButton':\n            component = React.cloneElement(child, {\n              disabled: child.props.disabledUntilFormIsValidated\n                ? some(this.state.validInputs, (x) => !x)\n                : false,\n              onClick: (event) => {\n                event.preventDefault();\n                if (!some(this.state.validInputs, (x) => !x)) {\n                  child.props.onClick(this.state.inputValues);\n                } else {\n                  this.setState({ forceDirty: true });\n                }\n              }\n            });\n            break;\n          case 'ResetButton':\n            component = React.cloneElement(child, {\n              onClick: (event) => {\n                event.preventDefault();\n                this.resetForm();\n                if (child.props.onClick) {\n                  child.props.onClick();\n                }\n              }\n            });\n            break;\n          case 'Input':\n          case 'Dropdown':\n            component = React.cloneElement(child, this.getCommonMethods(child.props));\n            break;\n          case 'CustomInput':\n            const customInput = child.props.children;\n            component = React.cloneElement(customInput, this.getCommonMethods(customInput.props));\n            break;\n        }\n        return component;\n      }\n    );\n  }\n\n  render() {\n    const childrenWithProps = this.getComponent(this.props.children);\n    return (\n      <form\n        className={this.props.className}\n      >\n        {childrenWithProps}\n      </form>\n    );\n  }\n}\n\nForm.propTypes = {\n  className: React.PropTypes.string,\n  resetForm: React.PropTypes.bool,\n  formWasResetted: React.PropTypes.func\n};\n\nForm.CustomInput = CustomInput;\nForm.CustomInput.displayName = 'CustomInput';\n\nForm.Input = Input;\nForm.Input.displayName = 'Input';\n\nForm.Dropdown = Dropdown;\nForm.Dropdown.displayName = 'Dropdown';\n\nForm.SubmitButton = SubmitButton;\nForm.SubmitButton.displayName = 'SubmitButton';\n\n\nForm.ResetButton = ResetButton;\nForm.ResetButton.displayName = 'ResetButton';\n\nForm.Wrapper = Wrapper;\nForm.Wrapper.displayName = 'Wrapper';\n\nexport default Form;\n"
  ]
}
