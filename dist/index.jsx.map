{
  "version": 3,
  "sources": [
    "index.jsx"
  ],
  "names": [
    "Form",
    "props",
    "inputs",
    "getInput",
    "child",
    "getDefaultValues",
    "valid",
    "value",
    "validate",
    "disabled",
    "defaults",
    "dirty",
    "errorMessage",
    "validateObj",
    "resetValue",
    "needToValidate",
    "displayName",
    "type",
    "children",
    "length",
    "x",
    "name",
    "customInput",
    "formElements",
    "state",
    "forceDirty",
    "resetForm",
    "disableInputs",
    "clearValuesOnReset",
    "serverErrors",
    "clearValues",
    "formWasResetted",
    "setInputsValues",
    "Object",
    "keys",
    "setBackendErrors",
    "errors",
    "input",
    "setState",
    "onClick",
    "event",
    "preventDefault",
    "onReset",
    "disabledUntilFormIsValidated",
    "onSubmit",
    "getInputsAndTheirValues",
    "newValues",
    "inputName",
    "onChange",
    "setInputValues",
    "extra",
    "valueWasResetted",
    "Children",
    "map",
    "component",
    "getChildrenComponents",
    "cloneElement",
    "getSubmitButtonProps",
    "getResetButtonProps",
    "getInputsCommonProps",
    "customSubmitButton",
    "customResetButton",
    "className",
    "propTypes",
    "node",
    "PropTypes",
    "string",
    "bool",
    "func",
    "isRequired",
    "shape",
    "CustomInput",
    "Input",
    "Dropdown",
    "SubmitButton",
    "ResetButton",
    "CustomSubmitButton",
    "CustomResetButton",
    "Wrapper"
  ],
  "mappings": "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",
  "file": "index.jsx",
  "sourceRoot": "../src/form",
  "sourcesContent": [
    "import React, { Component, PropTypes } from 'react';\nimport Input from './input';\nimport Dropdown from './dropdown';\nimport SubmitButton from './submit-button';\nimport ResetButton from './reset-button';\nimport Wrapper from './wrapper';\nimport CustomInput from './custom-input';\nimport CustomResetButton from './custom-reset-button';\nimport CustomSubmitButton from './custom-submit-button';\nimport emptySpan from './empty-span';\n\nimport { some } from 'lodash';\n\n\nclass Form extends Component {\n  static propTypes = {\n    children: PropTypes.node\n  }\n\n  constructor(props) {\n    super(props);\n\n    const inputs = {};\n\n    const getInput = (child) => {\n      const getDefaultValues = ({ valid, value, validate, disabled = false }) => {\n        // default values\n        let defaults = {\n          valid: !validate,\n          value: '',\n          dirty: false,\n          errorMessage: ''\n        };\n        if (value) {\n          if (validate) {\n            // default values when the input has a value and a validate prop\n            const validateObj = validate(value);\n            defaults = {\n              value,\n              valid: validateObj.valid,\n              errorMessage: validateObj.errorMessage,\n              dirty: true\n            };\n          } else {\n            // default values when the input has a value but has not a validate prop\n            defaults = {\n              valid: true,\n              value,\n              dirty: true,\n              errorMessage: ''\n            };\n          }\n        }\n\n        return { ...defaults, defaults, resetValue: false, disabled, needToValidate: validate };\n      };\n\n      const displayName = child.props ? child.type.displayName : '';\n\n      switch (displayName) {\n        case 'Wrapper':\n          if (child.props.children) {\n            if (child.props.children.length) {\n              for (const x in child.props.children) {\n                getInput(child.props.children[x]);\n              }\n            } else {\n              getInput(child.props.children);\n            }\n          }\n          break;\n        case 'Input':\n        case 'Dropdown': inputs[child.props.name] = getDefaultValues(child.props); break;\n        case 'CustomInput':\n          const customInput = child.props.children;\n          inputs[customInput.props.name] = getDefaultValues(customInput.props);\n          break;\n      }\n    };\n\n    const formElements = this.props.children;\n    for (const x in formElements) {\n      if (this.props.children.length) {\n        getInput(this.props.children[x]);\n      } else {\n        getInput(this.props.children);\n      }\n    }\n    this.state = { forceDirty: false, inputs };\n  }\n\n  componentWillReceiveProps({ resetForm, disableInputs, clearValuesOnReset, serverErrors }) {\n    if (this.props.resetForm != resetForm && resetForm) {\n      this.resetForm({ clearValues: clearValuesOnReset });\n      this.props.formWasResetted();\n    }\n\n    if (this.props.disableInputs != disableInputs) {\n      this.setInputsValues({ disabled: disableInputs });\n    }\n\n    if (this.props.serverErrors != serverErrors && Object.keys(serverErrors).length) {\n      this.setBackendErrors(serverErrors);\n    }\n  }\n\n  setBackendErrors(errors = {}) {\n    const state = { ...this.state };\n    const inputs = state.inputs;\n    for (const input in errors) {\n      inputs[input] = {\n        ...state.inputs[input],\n        valid: false,\n        errorMessage: errors[input]\n      };\n    }\n    this.setState({ state });\n  }\n\n  resetForm({ clearValues }) {\n    const state = { ...this.state };\n    const inputs = state.inputs;\n    for (const input in state.inputs) {\n      const { valid, value, dirty } = state.inputs[input].defaults;\n      inputs[input] = {\n        ...state.inputs[input],\n        resetValue: true,\n        valid: clearValues ? !state.inputs[input].needToValidate : valid,\n        dirty: clearValues ? false : dirty,\n        value: clearValues ? '' : value\n      };\n    }\n    this.setState({ state, forceDirty: false });\n  }\n\n  getResetButtonProps(props) {\n    return {\n      disabled: this.props.disableInputs,\n      onClick: (event) => {\n        event.preventDefault();\n        this.resetForm({ clearValues: props.clearValues });\n        // proceed to call the onReset prop from the Form.\n        if (this.props.onReset) {\n          this.props.onReset();\n        }\n      }\n    };\n  }\n\n  getSubmitButtonProps(props) {\n    return {\n      disabled: this.props.disableInputs || (props.disabledUntilFormIsValidated\n        ? some(this.state.inputs, (input) => !input.valid)\n        : false),\n      onClick: (event) => {\n        event.preventDefault();\n        //check if all the inputs are valid\n        if (!some(this.state.inputs, (input) => !input.valid)) {\n          // proceed to call the onSubmit prop from the Form.\n          this.props.onSubmit({ ...this.getInputsAndTheirValues() });\n        } else {\n          this.setInputsValues({ dirty: true });\n          this.setState({ forceDirty: true });\n        }\n      }\n    };\n  }\n\n  getInputsAndTheirValues() {\n    const inputs = {};\n    for (const input in this.state.inputs) {\n      inputs[input] = this.state.inputs[input].value;\n    }\n    return inputs;\n  }\n\n  setInputsValues(newValues) {\n    const state = { ...this.state };\n    const inputs = state.inputs;\n    for (const input in state.inputs) {\n      inputs[input] = { ...state.inputs[input], ...newValues };\n    }\n    this.setState({ state });\n  }\n\n  setInputValues(inputName, newValues) {\n    const state = { ...this.state };\n    state.inputs[inputName] = {\n      ...state.inputs[inputName],\n      ...newValues\n    };\n    this.setState({ state });\n  }\n\n  getInputsCommonProps(props) {\n    const { name, validate, onChange } = props;\n    const input = name;\n    const { inputs, forceDirty } = this.state;\n    const { value, valid, dirty, errorMessage, resetValue, disabled } = inputs[input];\n    return {\n      value, valid, dirty, errorMessage, forceDirty, resetValue, disabled,\n      onChange: (value) => {\n        this.setInputValues(input, { value });\n        if (onChange) {\n          onChange(value);\n        }\n      },\n      validate: (value, extra = {}) => {\n        if (validate) {\n          const validateObj = validate(value, extra);\n          this.setInputValues(input, {\n            valid: validateObj.valid,\n            errorMessage: validateObj.errorMessage,\n            dirty: true\n          });\n        } else {\n          this.setInputValues(input, {\n            valid: true,\n            errorMessage: '',\n            dirty: true\n          });\n        }\n      },\n      valueWasResetted: () => {\n        this.setInputValues(input, { resetValue: false });\n      }\n    };\n  }\n\n  getChildrenComponents(children) {\n    return React.Children.map(children,\n      (child) => {\n        let component = child;\n        const displayName = child.props ? child.type.displayName : '';\n        switch (displayName) {\n          case 'Wrapper':\n            component = (\n              <Wrapper {...child.props}>\n                {this.getChildrenComponents(child.props.children)}\n              </Wrapper>\n            );\n            break;\n          case 'SubmitButton':\n            component = React.cloneElement(child, this.getSubmitButtonProps(child.props));\n            break;\n          case 'ResetButton':\n            component = React.cloneElement(child, this.getResetButtonProps(child.props));\n            break;\n          case 'Input':\n          case 'Dropdown':\n            component = React.cloneElement(child, this.getInputsCommonProps(child.props));\n            break;\n          case 'CustomInput':\n            const customInput = child.props.children;\n            component = React.cloneElement(customInput, this.getInputsCommonProps(customInput.props));\n            break;\n          case 'CustomSubmitButton':\n            const customSubmitButton = child.props.children.props\n              ? child.props.children : emptySpan({ children: child.props.children });\n            component = React.cloneElement(customSubmitButton, this.getSubmitButtonProps(child.props));\n            break;\n          case 'CustomResetButton':\n            const customResetButton = child.props.children.props\n              ? child.props.children : emptySpan({ children: child.props.children });\n            component = React.cloneElement(customResetButton, this.getResetButtonProps(child.props));\n            break;\n        }\n        return component;\n      }\n    );\n  }\n\n  render() {\n    return (\n      <form className={this.props.className}>\n        {this.getChildrenComponents(this.props.children)}\n      </form>\n    );\n  }\n}\n\nForm.propTypes = {\n  className: React.PropTypes.string,\n  resetForm: React.PropTypes.bool,\n  clearValuesOnReset: React.PropTypes.bool,\n  formWasResetted: React.PropTypes.func,\n  onSubmit: React.PropTypes.func.isRequired,\n  onReset: React.PropTypes.func,\n  disableInputs: React.PropTypes.bool,\n  serverErrors: React.PropTypes.shape({})\n};\n\nForm.CustomInput = CustomInput;\nForm.CustomInput.displayName = 'CustomInput';\n\nForm.Input = Input;\nForm.Input.displayName = 'Input';\n\nForm.Dropdown = Dropdown;\nForm.Dropdown.displayName = 'Dropdown';\n\nForm.SubmitButton = SubmitButton;\nForm.SubmitButton.displayName = 'SubmitButton';\n\nForm.ResetButton = ResetButton;\nForm.ResetButton.displayName = 'ResetButton';\n\nForm.CustomSubmitButton = CustomSubmitButton;\nForm.CustomSubmitButton.displayName = 'CustomSubmitButton';\n\nForm.CustomResetButton = CustomResetButton;\nForm.CustomResetButton.displayName = 'CustomResetButton';\n\nForm.Wrapper = Wrapper;\nForm.Wrapper.displayName = 'Wrapper';\n\nexport default Form;\n"
  ]
}
